---
title: 'Weekly Exercises #5'
author: "Caleb Williams"
output: 
  html_document:
    keep_md: TRUE
    toc: TRUE
    toc_float: TRUE
    df_print: paged
    code_download: true
---





```r
library(tidyverse)     # for data cleaning and plotting
library(gardenR)       # for Lisa's garden data
library(lubridate)     # for date manipulation
library(openintro)     # for the abbr2state() function
library(palmerpenguins)# for Palmer penguin data
library(maps)          # for map data
library(ggmap)         # for mapping points on maps
library(gplots)        # for col2hex() function
library(RColorBrewer)  # for color palettes
library(sf)            # for working with spatial data
library(leaflet)       # for highly customizable mapping
library(ggthemes)      # for more themes (including theme_map())
library(plotly)        # for the ggplotly() - basic interactivity
library(gganimate)     # for adding animation layers to ggplots
library(transformr)    # for "tweening" (gganimate)
library(gifski)        # need the library for creating gifs but don't need to load each time
library(shiny)         # for creating interactive apps
library(ggimage)
theme_set(theme_minimal())
```


```r
# SNCF Train data
small_trains <- read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-02-26/small_trains.csv") 

# Lisa's garden data
data("garden_harvest")

# Lisa's Mallorca cycling data
mallorca_bike_day7 <- read_csv("https://www.dropbox.com/s/zc6jan4ltmjtvy0/mallorca_bike_day7.csv?dl=1") %>% 
  select(1:4, speed)

# Heather Lendway's Ironman 70.3 Pan Am championships Panama data
panama_swim <- read_csv("https://raw.githubusercontent.com/llendway/gps-data/master/data/panama_swim_20160131.csv")

panama_bike <- read_csv("https://raw.githubusercontent.com/llendway/gps-data/master/data/panama_bike_20160131.csv")

panama_run <- read_csv("https://raw.githubusercontent.com/llendway/gps-data/master/data/panama_run_20160131.csv")

#COVID-19 data from the New York Times
covid19 <- read_csv("https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-states.csv")
```

## Put your homework on GitHub!

Go [here](https://github.com/llendway/github_for_collaboration/blob/master/github_for_collaboration.md) or to previous homework to remind yourself how to get set up. 

Once your repository is created, you should always open your **project** rather than just opening an .Rmd file. You can do that by either clicking on the .Rproj file in your repository folder on your computer. Or, by going to the upper right hand corner in R Studio and clicking the arrow next to where it says Project: (None). You should see your project come up in that list if you've used it recently. You could also go to File --> Open Project and navigate to your .Rproj file. 

## Instructions

* Put your name at the top of the document. 

* **For ALL graphs, you should include appropriate labels.** 

* Feel free to change the default theme, which I currently have set to `theme_minimal()`. 

* Use good coding practice. Read the short sections on good code with [pipes](https://style.tidyverse.org/pipes.html) and [ggplot2](https://style.tidyverse.org/ggplot2.html). **This is part of your grade!**

* **NEW!!** With animated graphs, add `eval=FALSE` to the code chunk that creates the animation and saves it using `anim_save()`. Add another code chunk to reread the gif back into the file. See the [tutorial](https://animation-and-interactivity-in-r.netlify.app/) for help. 

* When you are finished with ALL the exercises, uncomment the options at the top so your document looks nicer. Don't do it before then, or else you might miss some important warnings and messages.

## Warm-up exercises from tutorial

  1. Choose 2 graphs you have created for ANY assignment in this class and add interactivity using the `ggplotly()` function.
  

```r
income <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2021/2021-02-16/income.csv')

MyColor <- c("#000000", "#9966CC", "#FF99CC", "#6699CC", "#CCCCCC")
names(MyColor) <- c("Rent", "Food", "Clothes", "Tax", "Other")

Historical_Income <- income %>% 
  pivot_longer(cols = Rent:Other,
               names_to = "Categories",
               values_to = "Categorical_Expenditure") %>% 

  ggplot() + 
  geom_col(aes(y = Class, x = Categorical_Expenditure, fill = Categories)) +
  scale_fill_manual(values = MyColor) + 
  labs(title = "Income and Expenditure of 150 Black Families in Atlanta, Georgia", y = "", x = "", fill = "", caption = "Caleb Williams") +
  theme_minimal() + 
  theme(panel.background = element_rect(fill = "bisque2", color = "bisque2"),
        panel.grid.major = element_line(size = .4, linetype = 'solid',
                                        color = "darkgrey"),
        panel.grid.minor = element_line(size = .4, linetype = 'solid',
                                        color = "darkgrey")) + 
  theme(plot.background = element_rect(fill = "bisque2")) 

ggplotly(Historical_Income)
```

```{=html}
<div id="htmlwidget-92b3f088f88a14090de0" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-92b3f088f88a14090de0">{"x":{"data":[{"orientation":"v","width":[28,23,18,15,17,19,16],"base":[0.55,1.55,2.55,3.55,4.55,5.55,6.55],"x":[85.9,88.5,91,92.5,91.5,90.5,92],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],"text":["Categorical_Expenditure: 28.0<br />Class: $100-200<br />Categories: Clothes","Categorical_Expenditure: 23.0<br />Class: $200-300<br />Categories: Clothes","Categorical_Expenditure: 18.0<br />Class: $300-400<br />Categories: Clothes","Categorical_Expenditure: 15.0<br />Class: $400-500<br />Categories: Clothes","Categorical_Expenditure: 17.0<br />Class: $500-750<br />Categories: Clothes","Categorical_Expenditure: 19.0<br />Class: $750-1000<br />Categories: Clothes","Categorical_Expenditure: 16.0<br />Class: Over $1000<br />Categories: Clothes"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(255,153,204,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Clothes","legendgroup":"Clothes","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[43,47,43,37,31,37,29],"base":[0.55,1.55,2.55,3.55,4.55,5.55,6.55],"x":[50.4,53.5,60.5,66.5,67.5,62.5,69.5],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],"text":["Categorical_Expenditure: 43.0<br />Class: $100-200<br />Categories: Food","Categorical_Expenditure: 47.0<br />Class: $200-300<br />Categories: Food","Categorical_Expenditure: 43.0<br />Class: $300-400<br />Categories: Food","Categorical_Expenditure: 37.0<br />Class: $400-500<br />Categories: Food","Categorical_Expenditure: 31.0<br />Class: $500-750<br />Categories: Food","Categorical_Expenditure: 37.0<br />Class: $750-1000<br />Categories: Food","Categorical_Expenditure: 29.0<br />Class: Over $1000<br />Categories: Food"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(153,102,204,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Food","legendgroup":"Food","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[4,11.5,24.5,34,36,50.5],"base":[1.55,2.55,3.55,4.55,5.55,6.55],"x":[28,33.25,35.75,35,26,29.75],"y":[0.9,0.9,0.9,0.9,0.9,0.9],"text":["Categorical_Expenditure:  4.0<br />Class: $200-300<br />Categories: Other","Categorical_Expenditure: 11.5<br />Class: $300-400<br />Categories: Other","Categorical_Expenditure: 24.5<br />Class: $400-500<br />Categories: Other","Categorical_Expenditure: 34.0<br />Class: $500-750<br />Categories: Other","Categorical_Expenditure: 36.0<br />Class: $750-1000<br />Categories: Other","Categorical_Expenditure: 50.5<br />Class: Over $1000<br />Categories: Other"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(204,204,204,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Other","legendgroup":"Other","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[19,22,23,18,13,0,0],"base":[0.55,1.55,2.55,3.55,4.55,5.55,6.55],"x":[19.4,15,16,14.5,11.5,8,4.5],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],"text":["Categorical_Expenditure: 19.0<br />Class: $100-200<br />Categories: Rent","Categorical_Expenditure: 22.0<br />Class: $200-300<br />Categories: Rent","Categorical_Expenditure: 23.0<br />Class: $300-400<br />Categories: Rent","Categorical_Expenditure: 18.0<br />Class: $400-500<br />Categories: Rent","Categorical_Expenditure: 13.0<br />Class: $500-750<br />Categories: Rent","Categorical_Expenditure:  0.0<br />Class: $750-1000<br />Categories: Rent","Categorical_Expenditure:  0.0<br />Class: Over $1000<br />Categories: Rent"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Rent","legendgroup":"Rent","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[9.9,4,4.5,5.5,5,8,4.5],"base":[0.55,1.55,2.55,3.55,4.55,5.55,6.55],"x":[4.95,2,2.25,2.75,2.5,4,2.25],"y":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],"text":["Categorical_Expenditure:  9.9<br />Class: $100-200<br />Categories: Tax","Categorical_Expenditure:  4.0<br />Class: $200-300<br />Categories: Tax","Categorical_Expenditure:  4.5<br />Class: $300-400<br />Categories: Tax","Categorical_Expenditure:  5.5<br />Class: $400-500<br />Categories: Tax","Categorical_Expenditure:  5.0<br />Class: $500-750<br />Categories: Tax","Categorical_Expenditure:  8.0<br />Class: $750-1000<br />Categories: Tax","Categorical_Expenditure:  4.5<br />Class: Over $1000<br />Categories: Tax"],"type":"bar","marker":{"autocolorscale":false,"color":"rgba(102,153,204,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Tax","legendgroup":"Tax","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":25.5707762557078,"l":69.4063926940639},"plot_bgcolor":"rgba(238,213,183,1)","paper_bgcolor":"rgba(238,213,183,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Income and Expenditure of 150 Black Families in Atlanta, Georgia","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5,105],"tickmode":"array","ticktext":["0","25","50","75","100"],"tickvals":[0,25,50,75,100],"categoryorder":"array","categoryarray":["0","25","50","75","100"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(169,169,169,1)","gridwidth":0.531340805313408,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,7.6],"tickmode":"array","ticktext":["$100-200","$200-300","$300-400","$400-500","$500-750","$750-1000","Over $1000"],"tickvals":[1,2,3,4,5,6,7],"categoryorder":"array","categoryarray":["$100-200","$200-300","$300-400","$400-500","$500-750","$750-1000","Over $1000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(169,169,169,1)","gridwidth":0.531340805313408,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.913385826771654},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"c9643a9d5e51":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"c9643a9d5e51","visdat":{"c9643a9d5e51":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
```


```r
cum_harvest_by_vegetable <- garden_harvest %>% 
  select(vegetable, date, weight) %>% 
  mutate(w_lbs = weight*0.00220462) %>% 
  filter(vegetable %in% c("beans", "carrots" ,
                          "cucumbers","lettuce",
                          "peas","spinach")) %>% 
  group_by(vegetable, date) %>% 
  summarize(wt_day = sum(w_lbs)) %>% 
  mutate(cum_wt_per_veg = cumsum(wt_day)) 

Cum_harvest_graph <- cum_harvest_by_vegetable %>% 
ggplot(aes(x = date, y = cum_wt_per_veg,
             color = vegetable, )) +
  geom_point() + 
  geom_line() +
  geom_rug(sides = 'b') + 
  labs(title = "Cumulative Harvest of 6 Vegetables", x = "Date", y = "Total Weight Harvested (lbs)") + 
  theme(text = element_text(family = "Times"))

ggplotly(Cum_harvest_graph)
```

```{=html}
<div id="htmlwidget-bd05df0df877e1ae2885" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-bd05df0df877e1ae2885">{"x":{"data":[{"x":[18449,18451,18452,18454,18456,18458,18461,18463,18464,18465,18466,18467,18470,18472,18474,18477,18479,18482,18485,18487,18490,18491,18492,18494,18499,18506,18532],"y":[0.5180857,0.91050806,1.21915486,2.76459348,3.74124014,5.3792728,6.834322,7.97851978,8.0248168,8.79863842,9.0830344,9.3034964,10.90845976,11.58086886,12.8860039,14.14704654,14.75331704,16.46189754,18.8384779,20.282504,21.81030566,22.81340776,23.30944726,24.66528856,25.78082628,26.13356548,26.51937398],"text":["date: 2020-07-06<br />cum_wt_per_veg:  0.51808570<br />vegetable: beans","date: 2020-07-08<br />cum_wt_per_veg:  0.91050806<br />vegetable: beans","date: 2020-07-09<br />cum_wt_per_veg:  1.21915486<br />vegetable: beans","date: 2020-07-11<br />cum_wt_per_veg:  2.76459348<br />vegetable: beans","date: 2020-07-13<br />cum_wt_per_veg:  3.74124014<br />vegetable: beans","date: 2020-07-15<br />cum_wt_per_veg:  5.37927280<br />vegetable: beans","date: 2020-07-18<br />cum_wt_per_veg:  6.83432200<br />vegetable: beans","date: 2020-07-20<br />cum_wt_per_veg:  7.97851978<br />vegetable: beans","date: 2020-07-21<br />cum_wt_per_veg:  8.02481680<br />vegetable: beans","date: 2020-07-22<br />cum_wt_per_veg:  8.79863842<br />vegetable: beans","date: 2020-07-23<br />cum_wt_per_veg:  9.08303440<br />vegetable: beans","date: 2020-07-24<br />cum_wt_per_veg:  9.30349640<br />vegetable: beans","date: 2020-07-27<br />cum_wt_per_veg: 10.90845976<br />vegetable: beans","date: 2020-07-29<br />cum_wt_per_veg: 11.58086886<br />vegetable: beans","date: 2020-07-31<br />cum_wt_per_veg: 12.88600390<br />vegetable: beans","date: 2020-08-03<br />cum_wt_per_veg: 14.14704654<br />vegetable: beans","date: 2020-08-05<br />cum_wt_per_veg: 14.75331704<br />vegetable: beans","date: 2020-08-08<br />cum_wt_per_veg: 16.46189754<br />vegetable: beans","date: 2020-08-11<br />cum_wt_per_veg: 18.83847790<br />vegetable: beans","date: 2020-08-13<br />cum_wt_per_veg: 20.28250400<br />vegetable: beans","date: 2020-08-16<br />cum_wt_per_veg: 21.81030566<br />vegetable: beans","date: 2020-08-17<br />cum_wt_per_veg: 22.81340776<br />vegetable: beans","date: 2020-08-18<br />cum_wt_per_veg: 23.30944726<br />vegetable: beans","date: 2020-08-20<br />cum_wt_per_veg: 24.66528856<br />vegetable: beans","date: 2020-08-25<br />cum_wt_per_veg: 25.78082628<br />vegetable: beans","date: 2020-09-01<br />cum_wt_per_veg: 26.13356548<br />vegetable: beans","date: 2020-09-27<br />cum_wt_per_veg: 26.51937398<br />vegetable: beans"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"beans","legendgroup":"beans","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"frame":null},{"x":[18466,18467,18470,18471,18473,18480,18481,18484,18495,18503,18522,18532,18549],"y":[0.12345872,0.69225068,1.07585456,1.42859376,1.92022402,3.25622374,3.81840184,4.30562286,5.3131342,7.64341754,8.3665329,11.30308674,16.865343],"text":["date: 2020-07-23<br />cum_wt_per_veg:  0.12345872<br />vegetable: carrots","date: 2020-07-24<br />cum_wt_per_veg:  0.69225068<br />vegetable: carrots","date: 2020-07-27<br />cum_wt_per_veg:  1.07585456<br />vegetable: carrots","date: 2020-07-28<br />cum_wt_per_veg:  1.42859376<br />vegetable: carrots","date: 2020-07-30<br />cum_wt_per_veg:  1.92022402<br />vegetable: carrots","date: 2020-08-06<br />cum_wt_per_veg:  3.25622374<br />vegetable: carrots","date: 2020-08-07<br />cum_wt_per_veg:  3.81840184<br />vegetable: carrots","date: 2020-08-10<br />cum_wt_per_veg:  4.30562286<br />vegetable: carrots","date: 2020-08-21<br />cum_wt_per_veg:  5.31313420<br />vegetable: carrots","date: 2020-08-29<br />cum_wt_per_veg:  7.64341754<br />vegetable: carrots","date: 2020-09-17<br />cum_wt_per_veg:  8.36653290<br />vegetable: carrots","date: 2020-09-27<br />cum_wt_per_veg: 11.30308674<br />vegetable: carrots","date: 2020-10-14<br />cum_wt_per_veg: 16.86534300<br />vegetable: carrots"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(183,159,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(183,159,0,1)"}},"hoveron":"points","name":"carrots","legendgroup":"carrots","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(183,159,0,1)","dash":"solid"},"frame":null},{"x":[18451,18452,18455,18456,18457,18458,18460,18461,18462,18463,18465,18467,18468,18470,18471,18472,18473,18474,18475,18477,18480,18481,18482,18485,18487,18489,18492,18494,18495,18497,18499],"y":[0.39903622,0.57099658,0.85759718,0.96121432,1.29631656,3.6265999,4.39160304,5.03976132,6.21041454,6.60504152,8.04906762,9.20649312,11.19285574,12.92348244,13.09103356,14.22420824,15.60430036,15.98790424,18.47912484,21.02546094,21.30544768,24.23097842,27.97221856,30.24077254,31.56133992,32.33516154,39.21578056,39.37010396,41.5681101,43.21496124,43.60958822],"text":["date: 2020-07-08<br />cum_wt_per_veg:  0.39903622<br />vegetable: cucumbers","date: 2020-07-09<br />cum_wt_per_veg:  0.57099658<br />vegetable: cucumbers","date: 2020-07-12<br />cum_wt_per_veg:  0.85759718<br />vegetable: cucumbers","date: 2020-07-13<br />cum_wt_per_veg:  0.96121432<br />vegetable: cucumbers","date: 2020-07-14<br />cum_wt_per_veg:  1.29631656<br />vegetable: cucumbers","date: 2020-07-15<br />cum_wt_per_veg:  3.62659990<br />vegetable: cucumbers","date: 2020-07-17<br />cum_wt_per_veg:  4.39160304<br />vegetable: cucumbers","date: 2020-07-18<br />cum_wt_per_veg:  5.03976132<br />vegetable: cucumbers","date: 2020-07-19<br />cum_wt_per_veg:  6.21041454<br />vegetable: cucumbers","date: 2020-07-20<br />cum_wt_per_veg:  6.60504152<br />vegetable: cucumbers","date: 2020-07-22<br />cum_wt_per_veg:  8.04906762<br />vegetable: cucumbers","date: 2020-07-24<br />cum_wt_per_veg:  9.20649312<br />vegetable: cucumbers","date: 2020-07-25<br />cum_wt_per_veg: 11.19285574<br />vegetable: cucumbers","date: 2020-07-27<br />cum_wt_per_veg: 12.92348244<br />vegetable: cucumbers","date: 2020-07-28<br />cum_wt_per_veg: 13.09103356<br />vegetable: cucumbers","date: 2020-07-29<br />cum_wt_per_veg: 14.22420824<br />vegetable: cucumbers","date: 2020-07-30<br />cum_wt_per_veg: 15.60430036<br />vegetable: cucumbers","date: 2020-07-31<br />cum_wt_per_veg: 15.98790424<br />vegetable: cucumbers","date: 2020-08-01<br />cum_wt_per_veg: 18.47912484<br />vegetable: cucumbers","date: 2020-08-03<br />cum_wt_per_veg: 21.02546094<br />vegetable: cucumbers","date: 2020-08-06<br />cum_wt_per_veg: 21.30544768<br />vegetable: cucumbers","date: 2020-08-07<br />cum_wt_per_veg: 24.23097842<br />vegetable: cucumbers","date: 2020-08-08<br />cum_wt_per_veg: 27.97221856<br />vegetable: cucumbers","date: 2020-08-11<br />cum_wt_per_veg: 30.24077254<br />vegetable: cucumbers","date: 2020-08-13<br />cum_wt_per_veg: 31.56133992<br />vegetable: cucumbers","date: 2020-08-15<br />cum_wt_per_veg: 32.33516154<br />vegetable: cucumbers","date: 2020-08-18<br />cum_wt_per_veg: 39.21578056<br />vegetable: cucumbers","date: 2020-08-20<br />cum_wt_per_veg: 39.37010396<br />vegetable: cucumbers","date: 2020-08-21<br />cum_wt_per_veg: 41.56811010<br />vegetable: cucumbers","date: 2020-08-23<br />cum_wt_per_veg: 43.21496124<br />vegetable: cucumbers","date: 2020-08-25<br />cum_wt_per_veg: 43.60958822<br />vegetable: cucumbers"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"cucumbers","legendgroup":"cucumbers","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)","dash":"solid"},"frame":null},{"x":[18419,18421,18422,18424,18426,18430,18431,18432,18433,18434,18435,18437,18438,18440,18441,18442,18444,18445,18446,18447,18449,18450,18451,18452,18454,18455,18456,18459,18463,18465,18466,18467,18469,18470,18471,18472,18473,18474,18477,18478,18480,18481,18485,18486,18488,18489,18490,18491,18492,18494,18497,18498,18501,18502,18521,18531,18532,18542],"y":[0.0440924,0.0771617,0.0992079,0.12566334,0.16755112,0.27337288,0.37699002,0.54674576,0.63493056,0.84436946,0.99869286,1.2676565,1.3337951,1.64464652,1.88935934,2.2487124,2.3809896,2.69845488,3.65305534,3.97713448,4.39380766,4.57017726,4.82150394,4.95598576,5.13015074,5.3131342,5.732012,5.86649382,6.13766208,6.18836834,6.47496894,6.51024286,6.68881708,6.90707446,7.10769488,7.26863214,7.47586642,7.71176076,7.85506106,7.97851978,8.19457254,8.23646032,8.43928536,8.60022262,8.77659222,8.90005094,8.99925884,9.14696838,9.33877032,10.26691534,10.51162816,10.80704724,10.83791192,11.02530462,11.04294158,11.25238048,11.55882266,11.5963012],"text":["date: 2020-06-06<br />cum_wt_per_veg:  0.04409240<br />vegetable: lettuce","date: 2020-06-08<br />cum_wt_per_veg:  0.07716170<br />vegetable: lettuce","date: 2020-06-09<br />cum_wt_per_veg:  0.09920790<br />vegetable: lettuce","date: 2020-06-11<br />cum_wt_per_veg:  0.12566334<br />vegetable: lettuce","date: 2020-06-13<br />cum_wt_per_veg:  0.16755112<br />vegetable: lettuce","date: 2020-06-17<br />cum_wt_per_veg:  0.27337288<br />vegetable: lettuce","date: 2020-06-18<br />cum_wt_per_veg:  0.37699002<br />vegetable: lettuce","date: 2020-06-19<br />cum_wt_per_veg:  0.54674576<br />vegetable: lettuce","date: 2020-06-20<br />cum_wt_per_veg:  0.63493056<br />vegetable: lettuce","date: 2020-06-21<br />cum_wt_per_veg:  0.84436946<br />vegetable: lettuce","date: 2020-06-22<br />cum_wt_per_veg:  0.99869286<br />vegetable: lettuce","date: 2020-06-24<br />cum_wt_per_veg:  1.26765650<br />vegetable: lettuce","date: 2020-06-25<br />cum_wt_per_veg:  1.33379510<br />vegetable: lettuce","date: 2020-06-27<br />cum_wt_per_veg:  1.64464652<br />vegetable: lettuce","date: 2020-06-28<br />cum_wt_per_veg:  1.88935934<br />vegetable: lettuce","date: 2020-06-29<br />cum_wt_per_veg:  2.24871240<br />vegetable: lettuce","date: 2020-07-01<br />cum_wt_per_veg:  2.38098960<br />vegetable: lettuce","date: 2020-07-02<br />cum_wt_per_veg:  2.69845488<br />vegetable: lettuce","date: 2020-07-03<br />cum_wt_per_veg:  3.65305534<br />vegetable: lettuce","date: 2020-07-04<br />cum_wt_per_veg:  3.97713448<br />vegetable: lettuce","date: 2020-07-06<br />cum_wt_per_veg:  4.39380766<br />vegetable: lettuce","date: 2020-07-07<br />cum_wt_per_veg:  4.57017726<br />vegetable: lettuce","date: 2020-07-08<br />cum_wt_per_veg:  4.82150394<br />vegetable: lettuce","date: 2020-07-09<br />cum_wt_per_veg:  4.95598576<br />vegetable: lettuce","date: 2020-07-11<br />cum_wt_per_veg:  5.13015074<br />vegetable: lettuce","date: 2020-07-12<br />cum_wt_per_veg:  5.31313420<br />vegetable: lettuce","date: 2020-07-13<br />cum_wt_per_veg:  5.73201200<br />vegetable: lettuce","date: 2020-07-16<br />cum_wt_per_veg:  5.86649382<br />vegetable: lettuce","date: 2020-07-20<br />cum_wt_per_veg:  6.13766208<br />vegetable: lettuce","date: 2020-07-22<br />cum_wt_per_veg:  6.18836834<br />vegetable: lettuce","date: 2020-07-23<br />cum_wt_per_veg:  6.47496894<br />vegetable: lettuce","date: 2020-07-24<br />cum_wt_per_veg:  6.51024286<br />vegetable: lettuce","date: 2020-07-26<br />cum_wt_per_veg:  6.68881708<br />vegetable: lettuce","date: 2020-07-27<br />cum_wt_per_veg:  6.90707446<br />vegetable: lettuce","date: 2020-07-28<br />cum_wt_per_veg:  7.10769488<br />vegetable: lettuce","date: 2020-07-29<br />cum_wt_per_veg:  7.26863214<br />vegetable: lettuce","date: 2020-07-30<br />cum_wt_per_veg:  7.47586642<br />vegetable: lettuce","date: 2020-07-31<br />cum_wt_per_veg:  7.71176076<br />vegetable: lettuce","date: 2020-08-03<br />cum_wt_per_veg:  7.85506106<br />vegetable: lettuce","date: 2020-08-04<br />cum_wt_per_veg:  7.97851978<br />vegetable: lettuce","date: 2020-08-06<br />cum_wt_per_veg:  8.19457254<br />vegetable: lettuce","date: 2020-08-07<br />cum_wt_per_veg:  8.23646032<br />vegetable: lettuce","date: 2020-08-11<br />cum_wt_per_veg:  8.43928536<br />vegetable: lettuce","date: 2020-08-12<br />cum_wt_per_veg:  8.60022262<br />vegetable: lettuce","date: 2020-08-14<br />cum_wt_per_veg:  8.77659222<br />vegetable: lettuce","date: 2020-08-15<br />cum_wt_per_veg:  8.90005094<br />vegetable: lettuce","date: 2020-08-16<br />cum_wt_per_veg:  8.99925884<br />vegetable: lettuce","date: 2020-08-17<br />cum_wt_per_veg:  9.14696838<br />vegetable: lettuce","date: 2020-08-18<br />cum_wt_per_veg:  9.33877032<br />vegetable: lettuce","date: 2020-08-20<br />cum_wt_per_veg: 10.26691534<br />vegetable: lettuce","date: 2020-08-23<br />cum_wt_per_veg: 10.51162816<br />vegetable: lettuce","date: 2020-08-24<br />cum_wt_per_veg: 10.80704724<br />vegetable: lettuce","date: 2020-08-27<br />cum_wt_per_veg: 10.83791192<br />vegetable: lettuce","date: 2020-08-28<br />cum_wt_per_veg: 11.02530462<br />vegetable: lettuce","date: 2020-09-16<br />cum_wt_per_veg: 11.04294158<br />vegetable: lettuce","date: 2020-09-26<br />cum_wt_per_veg: 11.25238048<br />vegetable: lettuce","date: 2020-09-27<br />cum_wt_per_veg: 11.55882266<br />vegetable: lettuce","date: 2020-10-07<br />cum_wt_per_veg: 11.59630120<br />vegetable: lettuce"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"lettuce","legendgroup":"lettuce","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)","dash":"solid"},"frame":null},{"x":[18430,18433,18435,18436,18437,18439,18440,18441,18442,18445,18447,18449,18451,18456,18457,18462,18463],"y":[0.28439598,0.76720776,0.89728034,1.34922744,1.42418452,2.36114802,3.09528648,4.84355014,7.45822946,10.85554888,12.49137692,13.55179914,14.27270988,14.36089468,15.97688114,16.28552794,17.02628026],"text":["date: 2020-06-17<br />cum_wt_per_veg:  0.28439598<br />vegetable: peas","date: 2020-06-20<br />cum_wt_per_veg:  0.76720776<br />vegetable: peas","date: 2020-06-22<br />cum_wt_per_veg:  0.89728034<br />vegetable: peas","date: 2020-06-23<br />cum_wt_per_veg:  1.34922744<br />vegetable: peas","date: 2020-06-24<br />cum_wt_per_veg:  1.42418452<br />vegetable: peas","date: 2020-06-26<br />cum_wt_per_veg:  2.36114802<br />vegetable: peas","date: 2020-06-27<br />cum_wt_per_veg:  3.09528648<br />vegetable: peas","date: 2020-06-28<br />cum_wt_per_veg:  4.84355014<br />vegetable: peas","date: 2020-06-29<br />cum_wt_per_veg:  7.45822946<br />vegetable: peas","date: 2020-07-02<br />cum_wt_per_veg: 10.85554888<br />vegetable: peas","date: 2020-07-04<br />cum_wt_per_veg: 12.49137692<br />vegetable: peas","date: 2020-07-06<br />cum_wt_per_veg: 13.55179914<br />vegetable: peas","date: 2020-07-08<br />cum_wt_per_veg: 14.27270988<br />vegetable: peas","date: 2020-07-13<br />cum_wt_per_veg: 14.36089468<br />vegetable: peas","date: 2020-07-14<br />cum_wt_per_veg: 15.97688114<br />vegetable: peas","date: 2020-07-19<br />cum_wt_per_veg: 16.28552794<br />vegetable: peas","date: 2020-07-20<br />cum_wt_per_veg: 17.02628026<br />vegetable: peas"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"peas","legendgroup":"peas","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)","dash":"solid"},"frame":null},{"x":[18424,18426,18430,18431,18432,18433,18434,18435,18436,18438,18440,18441,18443,18445,18454,18458,18464,18474,18478,18491,18492],"y":[0.01984158,0.05070626,0.17857422,0.3086468,0.43651476,0.49163026,0.7605939,0.84216484,0.93255426,0.9810559,1.1133331,1.33159048,1.50796008,1.543234,1.58512178,1.67110196,1.71739898,1.7857422,1.88274548,1.94888408,2.03486426],"text":["date: 2020-06-11<br />cum_wt_per_veg:  0.01984158<br />vegetable: spinach","date: 2020-06-13<br />cum_wt_per_veg:  0.05070626<br />vegetable: spinach","date: 2020-06-17<br />cum_wt_per_veg:  0.17857422<br />vegetable: spinach","date: 2020-06-18<br />cum_wt_per_veg:  0.30864680<br />vegetable: spinach","date: 2020-06-19<br />cum_wt_per_veg:  0.43651476<br />vegetable: spinach","date: 2020-06-20<br />cum_wt_per_veg:  0.49163026<br />vegetable: spinach","date: 2020-06-21<br />cum_wt_per_veg:  0.76059390<br />vegetable: spinach","date: 2020-06-22<br />cum_wt_per_veg:  0.84216484<br />vegetable: spinach","date: 2020-06-23<br />cum_wt_per_veg:  0.93255426<br />vegetable: spinach","date: 2020-06-25<br />cum_wt_per_veg:  0.98105590<br />vegetable: spinach","date: 2020-06-27<br />cum_wt_per_veg:  1.11333310<br />vegetable: spinach","date: 2020-06-28<br />cum_wt_per_veg:  1.33159048<br />vegetable: spinach","date: 2020-06-30<br />cum_wt_per_veg:  1.50796008<br />vegetable: spinach","date: 2020-07-02<br />cum_wt_per_veg:  1.54323400<br />vegetable: spinach","date: 2020-07-11<br />cum_wt_per_veg:  1.58512178<br />vegetable: spinach","date: 2020-07-15<br />cum_wt_per_veg:  1.67110196<br />vegetable: spinach","date: 2020-07-21<br />cum_wt_per_veg:  1.71739898<br />vegetable: spinach","date: 2020-07-31<br />cum_wt_per_veg:  1.78574220<br />vegetable: spinach","date: 2020-08-04<br />cum_wt_per_veg:  1.88274548<br />vegetable: spinach","date: 2020-08-17<br />cum_wt_per_veg:  1.94888408<br />vegetable: spinach","date: 2020-08-18<br />cum_wt_per_veg:  2.03486426<br />vegetable: spinach"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(245,100,227,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(245,100,227,1)"}},"hoveron":"points","name":"spinach","legendgroup":"spinach","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.88976377952756,"color":"rgba(245,100,227,1)","dash":"solid"},"frame":null},{"x":[18449,18449,null,18451,18451,null,18452,18452,null,18454,18454,null,18456,18456,null,18458,18458,null,18461,18461,null,18463,18463,null,18464,18464,null,18465,18465,null,18466,18466,null,18467,18467,null,18470,18470,null,18472,18472,null,18474,18474,null,18477,18477,null,18479,18479,null,18482,18482,null,18485,18485,null,18487,18487,null,18490,18490,null,18491,18491,null,18492,18492,null,18494,18494,null,18499,18499,null,18506,18506,null,18532,18532],"y":[-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288],"text":["date: 2020-07-06<br />cum_wt_per_veg:  0.51808570<br />vegetable: beans","date: 2020-07-06<br />cum_wt_per_veg:  0.51808570<br />vegetable: beans",null,"date: 2020-07-08<br />cum_wt_per_veg:  0.91050806<br />vegetable: beans","date: 2020-07-08<br />cum_wt_per_veg:  0.91050806<br />vegetable: beans",null,"date: 2020-07-09<br />cum_wt_per_veg:  1.21915486<br />vegetable: beans","date: 2020-07-09<br />cum_wt_per_veg:  1.21915486<br />vegetable: beans",null,"date: 2020-07-11<br />cum_wt_per_veg:  2.76459348<br />vegetable: beans","date: 2020-07-11<br />cum_wt_per_veg:  2.76459348<br />vegetable: beans",null,"date: 2020-07-13<br />cum_wt_per_veg:  3.74124014<br />vegetable: beans","date: 2020-07-13<br />cum_wt_per_veg:  3.74124014<br />vegetable: beans",null,"date: 2020-07-15<br />cum_wt_per_veg:  5.37927280<br />vegetable: beans","date: 2020-07-15<br />cum_wt_per_veg:  5.37927280<br />vegetable: beans",null,"date: 2020-07-18<br />cum_wt_per_veg:  6.83432200<br />vegetable: beans","date: 2020-07-18<br />cum_wt_per_veg:  6.83432200<br />vegetable: beans",null,"date: 2020-07-20<br />cum_wt_per_veg:  7.97851978<br />vegetable: beans","date: 2020-07-20<br />cum_wt_per_veg:  7.97851978<br />vegetable: beans",null,"date: 2020-07-21<br />cum_wt_per_veg:  8.02481680<br />vegetable: beans","date: 2020-07-21<br />cum_wt_per_veg:  8.02481680<br />vegetable: beans",null,"date: 2020-07-22<br />cum_wt_per_veg:  8.79863842<br />vegetable: beans","date: 2020-07-22<br />cum_wt_per_veg:  8.79863842<br />vegetable: beans",null,"date: 2020-07-23<br />cum_wt_per_veg:  9.08303440<br />vegetable: beans","date: 2020-07-23<br />cum_wt_per_veg:  9.08303440<br />vegetable: beans",null,"date: 2020-07-24<br />cum_wt_per_veg:  9.30349640<br />vegetable: beans","date: 2020-07-24<br />cum_wt_per_veg:  9.30349640<br />vegetable: beans",null,"date: 2020-07-27<br />cum_wt_per_veg: 10.90845976<br />vegetable: beans","date: 2020-07-27<br />cum_wt_per_veg: 10.90845976<br />vegetable: beans",null,"date: 2020-07-29<br />cum_wt_per_veg: 11.58086886<br />vegetable: beans","date: 2020-07-29<br />cum_wt_per_veg: 11.58086886<br />vegetable: beans",null,"date: 2020-07-31<br />cum_wt_per_veg: 12.88600390<br />vegetable: beans","date: 2020-07-31<br />cum_wt_per_veg: 12.88600390<br />vegetable: beans",null,"date: 2020-08-03<br />cum_wt_per_veg: 14.14704654<br />vegetable: beans","date: 2020-08-03<br />cum_wt_per_veg: 14.14704654<br />vegetable: beans",null,"date: 2020-08-05<br />cum_wt_per_veg: 14.75331704<br />vegetable: beans","date: 2020-08-05<br />cum_wt_per_veg: 14.75331704<br />vegetable: beans",null,"date: 2020-08-08<br />cum_wt_per_veg: 16.46189754<br />vegetable: beans","date: 2020-08-08<br />cum_wt_per_veg: 16.46189754<br />vegetable: beans",null,"date: 2020-08-11<br />cum_wt_per_veg: 18.83847790<br />vegetable: beans","date: 2020-08-11<br />cum_wt_per_veg: 18.83847790<br />vegetable: beans",null,"date: 2020-08-13<br />cum_wt_per_veg: 20.28250400<br />vegetable: beans","date: 2020-08-13<br />cum_wt_per_veg: 20.28250400<br />vegetable: beans",null,"date: 2020-08-16<br />cum_wt_per_veg: 21.81030566<br />vegetable: beans","date: 2020-08-16<br />cum_wt_per_veg: 21.81030566<br />vegetable: beans",null,"date: 2020-08-17<br />cum_wt_per_veg: 22.81340776<br />vegetable: beans","date: 2020-08-17<br />cum_wt_per_veg: 22.81340776<br />vegetable: beans",null,"date: 2020-08-18<br />cum_wt_per_veg: 23.30944726<br />vegetable: beans","date: 2020-08-18<br />cum_wt_per_veg: 23.30944726<br />vegetable: beans",null,"date: 2020-08-20<br />cum_wt_per_veg: 24.66528856<br />vegetable: beans","date: 2020-08-20<br />cum_wt_per_veg: 24.66528856<br />vegetable: beans",null,"date: 2020-08-25<br />cum_wt_per_veg: 25.78082628<br />vegetable: beans","date: 2020-08-25<br />cum_wt_per_veg: 25.78082628<br />vegetable: beans",null,"date: 2020-09-01<br />cum_wt_per_veg: 26.13356548<br />vegetable: beans","date: 2020-09-01<br />cum_wt_per_veg: 26.13356548<br />vegetable: beans",null,"date: 2020-09-27<br />cum_wt_per_veg: 26.51937398<br />vegetable: beans","date: 2020-09-27<br />cum_wt_per_veg: 26.51937398<br />vegetable: beans"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"beans","legendgroup":"beans","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18466,18466,null,18467,18467,null,18470,18470,null,18471,18471,null,18473,18473,null,18480,18480,null,18481,18481,null,18484,18484,null,18495,18495,null,18503,18503,null,18522,18522,null,18532,18532,null,18549,18549],"y":[-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288],"text":["date: 2020-07-23<br />cum_wt_per_veg:  0.12345872<br />vegetable: carrots","date: 2020-07-23<br />cum_wt_per_veg:  0.12345872<br />vegetable: carrots",null,"date: 2020-07-24<br />cum_wt_per_veg:  0.69225068<br />vegetable: carrots","date: 2020-07-24<br />cum_wt_per_veg:  0.69225068<br />vegetable: carrots",null,"date: 2020-07-27<br />cum_wt_per_veg:  1.07585456<br />vegetable: carrots","date: 2020-07-27<br />cum_wt_per_veg:  1.07585456<br />vegetable: carrots",null,"date: 2020-07-28<br />cum_wt_per_veg:  1.42859376<br />vegetable: carrots","date: 2020-07-28<br />cum_wt_per_veg:  1.42859376<br />vegetable: carrots",null,"date: 2020-07-30<br />cum_wt_per_veg:  1.92022402<br />vegetable: carrots","date: 2020-07-30<br />cum_wt_per_veg:  1.92022402<br />vegetable: carrots",null,"date: 2020-08-06<br />cum_wt_per_veg:  3.25622374<br />vegetable: carrots","date: 2020-08-06<br />cum_wt_per_veg:  3.25622374<br />vegetable: carrots",null,"date: 2020-08-07<br />cum_wt_per_veg:  3.81840184<br />vegetable: carrots","date: 2020-08-07<br />cum_wt_per_veg:  3.81840184<br />vegetable: carrots",null,"date: 2020-08-10<br />cum_wt_per_veg:  4.30562286<br />vegetable: carrots","date: 2020-08-10<br />cum_wt_per_veg:  4.30562286<br />vegetable: carrots",null,"date: 2020-08-21<br />cum_wt_per_veg:  5.31313420<br />vegetable: carrots","date: 2020-08-21<br />cum_wt_per_veg:  5.31313420<br />vegetable: carrots",null,"date: 2020-08-29<br />cum_wt_per_veg:  7.64341754<br />vegetable: carrots","date: 2020-08-29<br />cum_wt_per_veg:  7.64341754<br />vegetable: carrots",null,"date: 2020-09-17<br />cum_wt_per_veg:  8.36653290<br />vegetable: carrots","date: 2020-09-17<br />cum_wt_per_veg:  8.36653290<br />vegetable: carrots",null,"date: 2020-09-27<br />cum_wt_per_veg: 11.30308674<br />vegetable: carrots","date: 2020-09-27<br />cum_wt_per_veg: 11.30308674<br />vegetable: carrots",null,"date: 2020-10-14<br />cum_wt_per_veg: 16.86534300<br />vegetable: carrots","date: 2020-10-14<br />cum_wt_per_veg: 16.86534300<br />vegetable: carrots"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(183,159,0,1)","dash":"solid"},"hoveron":"points","name":"carrots","legendgroup":"carrots","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18451,18451,null,18452,18452,null,18455,18455,null,18456,18456,null,18457,18457,null,18458,18458,null,18460,18460,null,18461,18461,null,18462,18462,null,18463,18463,null,18465,18465,null,18467,18467,null,18468,18468,null,18470,18470,null,18471,18471,null,18472,18472,null,18473,18473,null,18474,18474,null,18475,18475,null,18477,18477,null,18480,18480,null,18481,18481,null,18482,18482,null,18485,18485,null,18487,18487,null,18489,18489,null,18492,18492,null,18494,18494,null,18495,18495,null,18497,18497,null,18499,18499],"y":[-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288],"text":["date: 2020-07-08<br />cum_wt_per_veg:  0.39903622<br />vegetable: cucumbers","date: 2020-07-08<br />cum_wt_per_veg:  0.39903622<br />vegetable: cucumbers",null,"date: 2020-07-09<br />cum_wt_per_veg:  0.57099658<br />vegetable: cucumbers","date: 2020-07-09<br />cum_wt_per_veg:  0.57099658<br />vegetable: cucumbers",null,"date: 2020-07-12<br />cum_wt_per_veg:  0.85759718<br />vegetable: cucumbers","date: 2020-07-12<br />cum_wt_per_veg:  0.85759718<br />vegetable: cucumbers",null,"date: 2020-07-13<br />cum_wt_per_veg:  0.96121432<br />vegetable: cucumbers","date: 2020-07-13<br />cum_wt_per_veg:  0.96121432<br />vegetable: cucumbers",null,"date: 2020-07-14<br />cum_wt_per_veg:  1.29631656<br />vegetable: cucumbers","date: 2020-07-14<br />cum_wt_per_veg:  1.29631656<br />vegetable: cucumbers",null,"date: 2020-07-15<br />cum_wt_per_veg:  3.62659990<br />vegetable: cucumbers","date: 2020-07-15<br />cum_wt_per_veg:  3.62659990<br />vegetable: cucumbers",null,"date: 2020-07-17<br />cum_wt_per_veg:  4.39160304<br />vegetable: cucumbers","date: 2020-07-17<br />cum_wt_per_veg:  4.39160304<br />vegetable: cucumbers",null,"date: 2020-07-18<br />cum_wt_per_veg:  5.03976132<br />vegetable: cucumbers","date: 2020-07-18<br />cum_wt_per_veg:  5.03976132<br />vegetable: cucumbers",null,"date: 2020-07-19<br />cum_wt_per_veg:  6.21041454<br />vegetable: cucumbers","date: 2020-07-19<br />cum_wt_per_veg:  6.21041454<br />vegetable: cucumbers",null,"date: 2020-07-20<br />cum_wt_per_veg:  6.60504152<br />vegetable: cucumbers","date: 2020-07-20<br />cum_wt_per_veg:  6.60504152<br />vegetable: cucumbers",null,"date: 2020-07-22<br />cum_wt_per_veg:  8.04906762<br />vegetable: cucumbers","date: 2020-07-22<br />cum_wt_per_veg:  8.04906762<br />vegetable: cucumbers",null,"date: 2020-07-24<br />cum_wt_per_veg:  9.20649312<br />vegetable: cucumbers","date: 2020-07-24<br />cum_wt_per_veg:  9.20649312<br />vegetable: cucumbers",null,"date: 2020-07-25<br />cum_wt_per_veg: 11.19285574<br />vegetable: cucumbers","date: 2020-07-25<br />cum_wt_per_veg: 11.19285574<br />vegetable: cucumbers",null,"date: 2020-07-27<br />cum_wt_per_veg: 12.92348244<br />vegetable: cucumbers","date: 2020-07-27<br />cum_wt_per_veg: 12.92348244<br />vegetable: cucumbers",null,"date: 2020-07-28<br />cum_wt_per_veg: 13.09103356<br />vegetable: cucumbers","date: 2020-07-28<br />cum_wt_per_veg: 13.09103356<br />vegetable: cucumbers",null,"date: 2020-07-29<br />cum_wt_per_veg: 14.22420824<br />vegetable: cucumbers","date: 2020-07-29<br />cum_wt_per_veg: 14.22420824<br />vegetable: cucumbers",null,"date: 2020-07-30<br />cum_wt_per_veg: 15.60430036<br />vegetable: cucumbers","date: 2020-07-30<br />cum_wt_per_veg: 15.60430036<br />vegetable: cucumbers",null,"date: 2020-07-31<br />cum_wt_per_veg: 15.98790424<br />vegetable: cucumbers","date: 2020-07-31<br />cum_wt_per_veg: 15.98790424<br />vegetable: cucumbers",null,"date: 2020-08-01<br />cum_wt_per_veg: 18.47912484<br />vegetable: cucumbers","date: 2020-08-01<br />cum_wt_per_veg: 18.47912484<br />vegetable: cucumbers",null,"date: 2020-08-03<br />cum_wt_per_veg: 21.02546094<br />vegetable: cucumbers","date: 2020-08-03<br />cum_wt_per_veg: 21.02546094<br />vegetable: cucumbers",null,"date: 2020-08-06<br />cum_wt_per_veg: 21.30544768<br />vegetable: cucumbers","date: 2020-08-06<br />cum_wt_per_veg: 21.30544768<br />vegetable: cucumbers",null,"date: 2020-08-07<br />cum_wt_per_veg: 24.23097842<br />vegetable: cucumbers","date: 2020-08-07<br />cum_wt_per_veg: 24.23097842<br />vegetable: cucumbers",null,"date: 2020-08-08<br />cum_wt_per_veg: 27.97221856<br />vegetable: cucumbers","date: 2020-08-08<br />cum_wt_per_veg: 27.97221856<br />vegetable: cucumbers",null,"date: 2020-08-11<br />cum_wt_per_veg: 30.24077254<br />vegetable: cucumbers","date: 2020-08-11<br />cum_wt_per_veg: 30.24077254<br />vegetable: cucumbers",null,"date: 2020-08-13<br />cum_wt_per_veg: 31.56133992<br />vegetable: cucumbers","date: 2020-08-13<br />cum_wt_per_veg: 31.56133992<br />vegetable: cucumbers",null,"date: 2020-08-15<br />cum_wt_per_veg: 32.33516154<br />vegetable: cucumbers","date: 2020-08-15<br />cum_wt_per_veg: 32.33516154<br />vegetable: cucumbers",null,"date: 2020-08-18<br />cum_wt_per_veg: 39.21578056<br />vegetable: cucumbers","date: 2020-08-18<br />cum_wt_per_veg: 39.21578056<br />vegetable: cucumbers",null,"date: 2020-08-20<br />cum_wt_per_veg: 39.37010396<br />vegetable: cucumbers","date: 2020-08-20<br />cum_wt_per_veg: 39.37010396<br />vegetable: cucumbers",null,"date: 2020-08-21<br />cum_wt_per_veg: 41.56811010<br />vegetable: cucumbers","date: 2020-08-21<br />cum_wt_per_veg: 41.56811010<br />vegetable: cucumbers",null,"date: 2020-08-23<br />cum_wt_per_veg: 43.21496124<br />vegetable: cucumbers","date: 2020-08-23<br />cum_wt_per_veg: 43.21496124<br />vegetable: cucumbers",null,"date: 2020-08-25<br />cum_wt_per_veg: 43.60958822<br />vegetable: cucumbers","date: 2020-08-25<br />cum_wt_per_veg: 43.60958822<br />vegetable: cucumbers"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,186,56,1)","dash":"solid"},"hoveron":"points","name":"cucumbers","legendgroup":"cucumbers","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18419,18419,null,18421,18421,null,18422,18422,null,18424,18424,null,18426,18426,null,18430,18430,null,18431,18431,null,18432,18432,null,18433,18433,null,18434,18434,null,18435,18435,null,18437,18437,null,18438,18438,null,18440,18440,null,18441,18441,null,18442,18442,null,18444,18444,null,18445,18445,null,18446,18446,null,18447,18447,null,18449,18449,null,18450,18450,null,18451,18451,null,18452,18452,null,18454,18454,null,18455,18455,null,18456,18456,null,18459,18459,null,18463,18463,null,18465,18465,null,18466,18466,null,18467,18467,null,18469,18469,null,18470,18470,null,18471,18471,null,18472,18472,null,18473,18473,null,18474,18474,null,18477,18477,null,18478,18478,null,18480,18480,null,18481,18481,null,18485,18485,null,18486,18486,null,18488,18488,null,18489,18489,null,18490,18490,null,18491,18491,null,18492,18492,null,18494,18494,null,18497,18497,null,18498,18498,null,18501,18501,null,18502,18502,null,18521,18521,null,18531,18531,null,18532,18532,null,18542,18542],"y":[-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288],"text":["date: 2020-06-06<br />cum_wt_per_veg:  0.04409240<br />vegetable: lettuce","date: 2020-06-06<br />cum_wt_per_veg:  0.04409240<br />vegetable: lettuce",null,"date: 2020-06-08<br />cum_wt_per_veg:  0.07716170<br />vegetable: lettuce","date: 2020-06-08<br />cum_wt_per_veg:  0.07716170<br />vegetable: lettuce",null,"date: 2020-06-09<br />cum_wt_per_veg:  0.09920790<br />vegetable: lettuce","date: 2020-06-09<br />cum_wt_per_veg:  0.09920790<br />vegetable: lettuce",null,"date: 2020-06-11<br />cum_wt_per_veg:  0.12566334<br />vegetable: lettuce","date: 2020-06-11<br />cum_wt_per_veg:  0.12566334<br />vegetable: lettuce",null,"date: 2020-06-13<br />cum_wt_per_veg:  0.16755112<br />vegetable: lettuce","date: 2020-06-13<br />cum_wt_per_veg:  0.16755112<br />vegetable: lettuce",null,"date: 2020-06-17<br />cum_wt_per_veg:  0.27337288<br />vegetable: lettuce","date: 2020-06-17<br />cum_wt_per_veg:  0.27337288<br />vegetable: lettuce",null,"date: 2020-06-18<br />cum_wt_per_veg:  0.37699002<br />vegetable: lettuce","date: 2020-06-18<br />cum_wt_per_veg:  0.37699002<br />vegetable: lettuce",null,"date: 2020-06-19<br />cum_wt_per_veg:  0.54674576<br />vegetable: lettuce","date: 2020-06-19<br />cum_wt_per_veg:  0.54674576<br />vegetable: lettuce",null,"date: 2020-06-20<br />cum_wt_per_veg:  0.63493056<br />vegetable: lettuce","date: 2020-06-20<br />cum_wt_per_veg:  0.63493056<br />vegetable: lettuce",null,"date: 2020-06-21<br />cum_wt_per_veg:  0.84436946<br />vegetable: lettuce","date: 2020-06-21<br />cum_wt_per_veg:  0.84436946<br />vegetable: lettuce",null,"date: 2020-06-22<br />cum_wt_per_veg:  0.99869286<br />vegetable: lettuce","date: 2020-06-22<br />cum_wt_per_veg:  0.99869286<br />vegetable: lettuce",null,"date: 2020-06-24<br />cum_wt_per_veg:  1.26765650<br />vegetable: lettuce","date: 2020-06-24<br />cum_wt_per_veg:  1.26765650<br />vegetable: lettuce",null,"date: 2020-06-25<br />cum_wt_per_veg:  1.33379510<br />vegetable: lettuce","date: 2020-06-25<br />cum_wt_per_veg:  1.33379510<br />vegetable: lettuce",null,"date: 2020-06-27<br />cum_wt_per_veg:  1.64464652<br />vegetable: lettuce","date: 2020-06-27<br />cum_wt_per_veg:  1.64464652<br />vegetable: lettuce",null,"date: 2020-06-28<br />cum_wt_per_veg:  1.88935934<br />vegetable: lettuce","date: 2020-06-28<br />cum_wt_per_veg:  1.88935934<br />vegetable: lettuce",null,"date: 2020-06-29<br />cum_wt_per_veg:  2.24871240<br />vegetable: lettuce","date: 2020-06-29<br />cum_wt_per_veg:  2.24871240<br />vegetable: lettuce",null,"date: 2020-07-01<br />cum_wt_per_veg:  2.38098960<br />vegetable: lettuce","date: 2020-07-01<br />cum_wt_per_veg:  2.38098960<br />vegetable: lettuce",null,"date: 2020-07-02<br />cum_wt_per_veg:  2.69845488<br />vegetable: lettuce","date: 2020-07-02<br />cum_wt_per_veg:  2.69845488<br />vegetable: lettuce",null,"date: 2020-07-03<br />cum_wt_per_veg:  3.65305534<br />vegetable: lettuce","date: 2020-07-03<br />cum_wt_per_veg:  3.65305534<br />vegetable: lettuce",null,"date: 2020-07-04<br />cum_wt_per_veg:  3.97713448<br />vegetable: lettuce","date: 2020-07-04<br />cum_wt_per_veg:  3.97713448<br />vegetable: lettuce",null,"date: 2020-07-06<br />cum_wt_per_veg:  4.39380766<br />vegetable: lettuce","date: 2020-07-06<br />cum_wt_per_veg:  4.39380766<br />vegetable: lettuce",null,"date: 2020-07-07<br />cum_wt_per_veg:  4.57017726<br />vegetable: lettuce","date: 2020-07-07<br />cum_wt_per_veg:  4.57017726<br />vegetable: lettuce",null,"date: 2020-07-08<br />cum_wt_per_veg:  4.82150394<br />vegetable: lettuce","date: 2020-07-08<br />cum_wt_per_veg:  4.82150394<br />vegetable: lettuce",null,"date: 2020-07-09<br />cum_wt_per_veg:  4.95598576<br />vegetable: lettuce","date: 2020-07-09<br />cum_wt_per_veg:  4.95598576<br />vegetable: lettuce",null,"date: 2020-07-11<br />cum_wt_per_veg:  5.13015074<br />vegetable: lettuce","date: 2020-07-11<br />cum_wt_per_veg:  5.13015074<br />vegetable: lettuce",null,"date: 2020-07-12<br />cum_wt_per_veg:  5.31313420<br />vegetable: lettuce","date: 2020-07-12<br />cum_wt_per_veg:  5.31313420<br />vegetable: lettuce",null,"date: 2020-07-13<br />cum_wt_per_veg:  5.73201200<br />vegetable: lettuce","date: 2020-07-13<br />cum_wt_per_veg:  5.73201200<br />vegetable: lettuce",null,"date: 2020-07-16<br />cum_wt_per_veg:  5.86649382<br />vegetable: lettuce","date: 2020-07-16<br />cum_wt_per_veg:  5.86649382<br />vegetable: lettuce",null,"date: 2020-07-20<br />cum_wt_per_veg:  6.13766208<br />vegetable: lettuce","date: 2020-07-20<br />cum_wt_per_veg:  6.13766208<br />vegetable: lettuce",null,"date: 2020-07-22<br />cum_wt_per_veg:  6.18836834<br />vegetable: lettuce","date: 2020-07-22<br />cum_wt_per_veg:  6.18836834<br />vegetable: lettuce",null,"date: 2020-07-23<br />cum_wt_per_veg:  6.47496894<br />vegetable: lettuce","date: 2020-07-23<br />cum_wt_per_veg:  6.47496894<br />vegetable: lettuce",null,"date: 2020-07-24<br />cum_wt_per_veg:  6.51024286<br />vegetable: lettuce","date: 2020-07-24<br />cum_wt_per_veg:  6.51024286<br />vegetable: lettuce",null,"date: 2020-07-26<br />cum_wt_per_veg:  6.68881708<br />vegetable: lettuce","date: 2020-07-26<br />cum_wt_per_veg:  6.68881708<br />vegetable: lettuce",null,"date: 2020-07-27<br />cum_wt_per_veg:  6.90707446<br />vegetable: lettuce","date: 2020-07-27<br />cum_wt_per_veg:  6.90707446<br />vegetable: lettuce",null,"date: 2020-07-28<br />cum_wt_per_veg:  7.10769488<br />vegetable: lettuce","date: 2020-07-28<br />cum_wt_per_veg:  7.10769488<br />vegetable: lettuce",null,"date: 2020-07-29<br />cum_wt_per_veg:  7.26863214<br />vegetable: lettuce","date: 2020-07-29<br />cum_wt_per_veg:  7.26863214<br />vegetable: lettuce",null,"date: 2020-07-30<br />cum_wt_per_veg:  7.47586642<br />vegetable: lettuce","date: 2020-07-30<br />cum_wt_per_veg:  7.47586642<br />vegetable: lettuce",null,"date: 2020-07-31<br />cum_wt_per_veg:  7.71176076<br />vegetable: lettuce","date: 2020-07-31<br />cum_wt_per_veg:  7.71176076<br />vegetable: lettuce",null,"date: 2020-08-03<br />cum_wt_per_veg:  7.85506106<br />vegetable: lettuce","date: 2020-08-03<br />cum_wt_per_veg:  7.85506106<br />vegetable: lettuce",null,"date: 2020-08-04<br />cum_wt_per_veg:  7.97851978<br />vegetable: lettuce","date: 2020-08-04<br />cum_wt_per_veg:  7.97851978<br />vegetable: lettuce",null,"date: 2020-08-06<br />cum_wt_per_veg:  8.19457254<br />vegetable: lettuce","date: 2020-08-06<br />cum_wt_per_veg:  8.19457254<br />vegetable: lettuce",null,"date: 2020-08-07<br />cum_wt_per_veg:  8.23646032<br />vegetable: lettuce","date: 2020-08-07<br />cum_wt_per_veg:  8.23646032<br />vegetable: lettuce",null,"date: 2020-08-11<br />cum_wt_per_veg:  8.43928536<br />vegetable: lettuce","date: 2020-08-11<br />cum_wt_per_veg:  8.43928536<br />vegetable: lettuce",null,"date: 2020-08-12<br />cum_wt_per_veg:  8.60022262<br />vegetable: lettuce","date: 2020-08-12<br />cum_wt_per_veg:  8.60022262<br />vegetable: lettuce",null,"date: 2020-08-14<br />cum_wt_per_veg:  8.77659222<br />vegetable: lettuce","date: 2020-08-14<br />cum_wt_per_veg:  8.77659222<br />vegetable: lettuce",null,"date: 2020-08-15<br />cum_wt_per_veg:  8.90005094<br />vegetable: lettuce","date: 2020-08-15<br />cum_wt_per_veg:  8.90005094<br />vegetable: lettuce",null,"date: 2020-08-16<br />cum_wt_per_veg:  8.99925884<br />vegetable: lettuce","date: 2020-08-16<br />cum_wt_per_veg:  8.99925884<br />vegetable: lettuce",null,"date: 2020-08-17<br />cum_wt_per_veg:  9.14696838<br />vegetable: lettuce","date: 2020-08-17<br />cum_wt_per_veg:  9.14696838<br />vegetable: lettuce",null,"date: 2020-08-18<br />cum_wt_per_veg:  9.33877032<br />vegetable: lettuce","date: 2020-08-18<br />cum_wt_per_veg:  9.33877032<br />vegetable: lettuce",null,"date: 2020-08-20<br />cum_wt_per_veg: 10.26691534<br />vegetable: lettuce","date: 2020-08-20<br />cum_wt_per_veg: 10.26691534<br />vegetable: lettuce",null,"date: 2020-08-23<br />cum_wt_per_veg: 10.51162816<br />vegetable: lettuce","date: 2020-08-23<br />cum_wt_per_veg: 10.51162816<br />vegetable: lettuce",null,"date: 2020-08-24<br />cum_wt_per_veg: 10.80704724<br />vegetable: lettuce","date: 2020-08-24<br />cum_wt_per_veg: 10.80704724<br />vegetable: lettuce",null,"date: 2020-08-27<br />cum_wt_per_veg: 10.83791192<br />vegetable: lettuce","date: 2020-08-27<br />cum_wt_per_veg: 10.83791192<br />vegetable: lettuce",null,"date: 2020-08-28<br />cum_wt_per_veg: 11.02530462<br />vegetable: lettuce","date: 2020-08-28<br />cum_wt_per_veg: 11.02530462<br />vegetable: lettuce",null,"date: 2020-09-16<br />cum_wt_per_veg: 11.04294158<br />vegetable: lettuce","date: 2020-09-16<br />cum_wt_per_veg: 11.04294158<br />vegetable: lettuce",null,"date: 2020-09-26<br />cum_wt_per_veg: 11.25238048<br />vegetable: lettuce","date: 2020-09-26<br />cum_wt_per_veg: 11.25238048<br />vegetable: lettuce",null,"date: 2020-09-27<br />cum_wt_per_veg: 11.55882266<br />vegetable: lettuce","date: 2020-09-27<br />cum_wt_per_veg: 11.55882266<br />vegetable: lettuce",null,"date: 2020-10-07<br />cum_wt_per_veg: 11.59630120<br />vegetable: lettuce","date: 2020-10-07<br />cum_wt_per_veg: 11.59630120<br />vegetable: lettuce"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"lettuce","legendgroup":"lettuce","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18430,18430,null,18433,18433,null,18435,18435,null,18436,18436,null,18437,18437,null,18439,18439,null,18440,18440,null,18441,18441,null,18442,18442,null,18445,18445,null,18447,18447,null,18449,18449,null,18451,18451,null,18456,18456,null,18457,18457,null,18462,18462,null,18463,18463],"y":[-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288],"text":["date: 2020-06-17<br />cum_wt_per_veg:  0.28439598<br />vegetable: peas","date: 2020-06-17<br />cum_wt_per_veg:  0.28439598<br />vegetable: peas",null,"date: 2020-06-20<br />cum_wt_per_veg:  0.76720776<br />vegetable: peas","date: 2020-06-20<br />cum_wt_per_veg:  0.76720776<br />vegetable: peas",null,"date: 2020-06-22<br />cum_wt_per_veg:  0.89728034<br />vegetable: peas","date: 2020-06-22<br />cum_wt_per_veg:  0.89728034<br />vegetable: peas",null,"date: 2020-06-23<br />cum_wt_per_veg:  1.34922744<br />vegetable: peas","date: 2020-06-23<br />cum_wt_per_veg:  1.34922744<br />vegetable: peas",null,"date: 2020-06-24<br />cum_wt_per_veg:  1.42418452<br />vegetable: peas","date: 2020-06-24<br />cum_wt_per_veg:  1.42418452<br />vegetable: peas",null,"date: 2020-06-26<br />cum_wt_per_veg:  2.36114802<br />vegetable: peas","date: 2020-06-26<br />cum_wt_per_veg:  2.36114802<br />vegetable: peas",null,"date: 2020-06-27<br />cum_wt_per_veg:  3.09528648<br />vegetable: peas","date: 2020-06-27<br />cum_wt_per_veg:  3.09528648<br />vegetable: peas",null,"date: 2020-06-28<br />cum_wt_per_veg:  4.84355014<br />vegetable: peas","date: 2020-06-28<br />cum_wt_per_veg:  4.84355014<br />vegetable: peas",null,"date: 2020-06-29<br />cum_wt_per_veg:  7.45822946<br />vegetable: peas","date: 2020-06-29<br />cum_wt_per_veg:  7.45822946<br />vegetable: peas",null,"date: 2020-07-02<br />cum_wt_per_veg: 10.85554888<br />vegetable: peas","date: 2020-07-02<br />cum_wt_per_veg: 10.85554888<br />vegetable: peas",null,"date: 2020-07-04<br />cum_wt_per_veg: 12.49137692<br />vegetable: peas","date: 2020-07-04<br />cum_wt_per_veg: 12.49137692<br />vegetable: peas",null,"date: 2020-07-06<br />cum_wt_per_veg: 13.55179914<br />vegetable: peas","date: 2020-07-06<br />cum_wt_per_veg: 13.55179914<br />vegetable: peas",null,"date: 2020-07-08<br />cum_wt_per_veg: 14.27270988<br />vegetable: peas","date: 2020-07-08<br />cum_wt_per_veg: 14.27270988<br />vegetable: peas",null,"date: 2020-07-13<br />cum_wt_per_veg: 14.36089468<br />vegetable: peas","date: 2020-07-13<br />cum_wt_per_veg: 14.36089468<br />vegetable: peas",null,"date: 2020-07-14<br />cum_wt_per_veg: 15.97688114<br />vegetable: peas","date: 2020-07-14<br />cum_wt_per_veg: 15.97688114<br />vegetable: peas",null,"date: 2020-07-19<br />cum_wt_per_veg: 16.28552794<br />vegetable: peas","date: 2020-07-19<br />cum_wt_per_veg: 16.28552794<br />vegetable: peas",null,"date: 2020-07-20<br />cum_wt_per_veg: 17.02628026<br />vegetable: peas","date: 2020-07-20<br />cum_wt_per_veg: 17.02628026<br />vegetable: peas"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(97,156,255,1)","dash":"solid"},"hoveron":"points","name":"peas","legendgroup":"peas","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18424,18424,null,18426,18426,null,18430,18430,null,18431,18431,null,18432,18432,null,18433,18433,null,18434,18434,null,18435,18435,null,18436,18436,null,18438,18438,null,18440,18440,null,18441,18441,null,18443,18443,null,18445,18445,null,18454,18454,null,18458,18458,null,18464,18464,null,18474,18474,null,18478,18478,null,18491,18491,null,18492,18492],"y":[-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288,null,-2.159645752,-0.72118411288],"text":["date: 2020-06-11<br />cum_wt_per_veg:  0.01984158<br />vegetable: spinach","date: 2020-06-11<br />cum_wt_per_veg:  0.01984158<br />vegetable: spinach",null,"date: 2020-06-13<br />cum_wt_per_veg:  0.05070626<br />vegetable: spinach","date: 2020-06-13<br />cum_wt_per_veg:  0.05070626<br />vegetable: spinach",null,"date: 2020-06-17<br />cum_wt_per_veg:  0.17857422<br />vegetable: spinach","date: 2020-06-17<br />cum_wt_per_veg:  0.17857422<br />vegetable: spinach",null,"date: 2020-06-18<br />cum_wt_per_veg:  0.30864680<br />vegetable: spinach","date: 2020-06-18<br />cum_wt_per_veg:  0.30864680<br />vegetable: spinach",null,"date: 2020-06-19<br />cum_wt_per_veg:  0.43651476<br />vegetable: spinach","date: 2020-06-19<br />cum_wt_per_veg:  0.43651476<br />vegetable: spinach",null,"date: 2020-06-20<br />cum_wt_per_veg:  0.49163026<br />vegetable: spinach","date: 2020-06-20<br />cum_wt_per_veg:  0.49163026<br />vegetable: spinach",null,"date: 2020-06-21<br />cum_wt_per_veg:  0.76059390<br />vegetable: spinach","date: 2020-06-21<br />cum_wt_per_veg:  0.76059390<br />vegetable: spinach",null,"date: 2020-06-22<br />cum_wt_per_veg:  0.84216484<br />vegetable: spinach","date: 2020-06-22<br />cum_wt_per_veg:  0.84216484<br />vegetable: spinach",null,"date: 2020-06-23<br />cum_wt_per_veg:  0.93255426<br />vegetable: spinach","date: 2020-06-23<br />cum_wt_per_veg:  0.93255426<br />vegetable: spinach",null,"date: 2020-06-25<br />cum_wt_per_veg:  0.98105590<br />vegetable: spinach","date: 2020-06-25<br />cum_wt_per_veg:  0.98105590<br />vegetable: spinach",null,"date: 2020-06-27<br />cum_wt_per_veg:  1.11333310<br />vegetable: spinach","date: 2020-06-27<br />cum_wt_per_veg:  1.11333310<br />vegetable: spinach",null,"date: 2020-06-28<br />cum_wt_per_veg:  1.33159048<br />vegetable: spinach","date: 2020-06-28<br />cum_wt_per_veg:  1.33159048<br />vegetable: spinach",null,"date: 2020-06-30<br />cum_wt_per_veg:  1.50796008<br />vegetable: spinach","date: 2020-06-30<br />cum_wt_per_veg:  1.50796008<br />vegetable: spinach",null,"date: 2020-07-02<br />cum_wt_per_veg:  1.54323400<br />vegetable: spinach","date: 2020-07-02<br />cum_wt_per_veg:  1.54323400<br />vegetable: spinach",null,"date: 2020-07-11<br />cum_wt_per_veg:  1.58512178<br />vegetable: spinach","date: 2020-07-11<br />cum_wt_per_veg:  1.58512178<br />vegetable: spinach",null,"date: 2020-07-15<br />cum_wt_per_veg:  1.67110196<br />vegetable: spinach","date: 2020-07-15<br />cum_wt_per_veg:  1.67110196<br />vegetable: spinach",null,"date: 2020-07-21<br />cum_wt_per_veg:  1.71739898<br />vegetable: spinach","date: 2020-07-21<br />cum_wt_per_veg:  1.71739898<br />vegetable: spinach",null,"date: 2020-07-31<br />cum_wt_per_veg:  1.78574220<br />vegetable: spinach","date: 2020-07-31<br />cum_wt_per_veg:  1.78574220<br />vegetable: spinach",null,"date: 2020-08-04<br />cum_wt_per_veg:  1.88274548<br />vegetable: spinach","date: 2020-08-04<br />cum_wt_per_veg:  1.88274548<br />vegetable: spinach",null,"date: 2020-08-17<br />cum_wt_per_veg:  1.94888408<br />vegetable: spinach","date: 2020-08-17<br />cum_wt_per_veg:  1.94888408<br />vegetable: spinach",null,"date: 2020-08-18<br />cum_wt_per_veg:  2.03486426<br />vegetable: spinach","date: 2020-08-18<br />cum_wt_per_veg:  2.03486426<br />vegetable: spinach"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(245,100,227,1)","dash":"solid"},"hoveron":"points","name":"spinach","legendgroup":"spinach","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.7625570776256,"r":7.30593607305936,"b":40.1826484018265,"l":37.2602739726027},"font":{"color":"rgba(0,0,0,1)","family":"Times","size":14.6118721461187},"title":{"text":"Cumulative Harvest of 6 Vegetables","font":{"color":"rgba(0,0,0,1)","family":"Times","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[18412.5,18555.5],"tickmode":"array","ticktext":["Jun","Jul","Aug","Sep","Oct"],"tickvals":[18414,18444,18475,18506,18536],"categoryorder":"array","categoryarray":["Jun","Jul","Aug","Sep","Oct"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Times","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Date","font":{"color":"rgba(0,0,0,1)","family":"Times","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.159645752,45.789075552],"tickmode":"array","ticktext":["0","10","20","30","40"],"tickvals":[0,10,20,30,40],"categoryorder":"array","categoryarray":["0","10","20","30","40"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Times","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Total Weight Harvested (lbs)","font":{"color":"rgba(0,0,0,1)","family":"Times","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"Times","size":11.689497716895},"y":0.913385826771654},"annotations":[{"text":"vegetable","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"Times","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"c9646bfe3979":{"x":{},"y":{},"colour":{},"type":"scatter"},"c9647f6f6e52":{"x":{},"y":{},"colour":{}},"c9646cb40ada":{"x":{},"y":{},"colour":{}}},"cur_data":"c9646bfe3979","visdat":{"c9646bfe3979":["function (y) ","x"],"c9647f6f6e52":["function (y) ","x"],"c9646cb40ada":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
```

  
  2. Use animation to tell an interesting story with the `small_trains` dataset that contains data from the SNCF (National Society of French Railways). These are Tidy Tuesday data! Read more about it [here](https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-02-26).


```r
small_trains %>% 
  filter(year == "2017") %>% 
  group_by(departure_station, month) %>% 
  summarize(total_trips_for_month = sum(total_num_trips),
         total_late_dep_month = sum(num_late_at_departure)) %>% 
  ggplot(aes(x = total_late_dep_month,
             y = total_trips_for_month,
             color = month,
             group = departure_station)) +
  geom_jitter() + 
  labs(title = "Number of Delays and Departures for Each Station by Month in 2017", 
       subtitle = "Departure Station: {closest_state}",
       x = "",
       y = "") +
  transition_states(departure_station)
```

## Garden data

  3. In this exercise, you will create a stacked area plot that reveals itself over time (see the `geom_area()` examples [here](https://ggplot2.tidyverse.org/reference/position_stack.html)). You will look at cumulative harvest of tomato varieties over time. You should do the following:
  * From the `garden_harvest` data, filter the data to the tomatoes and find the *daily* harvest in pounds for each variety.  
  * Then, for each variety, find the cumulative harvest in pounds.  
  * Use the data you just made to create a static cumulative harvest area plot, with the areas filled with different colors for each vegetable and arranged (HINT: `fct_reorder()`) from most to least harvested (most on the bottom).  
  * Add animation to reveal the plot over date. 

I have started the code for you below. The `complete()` function creates a row for all unique `date`/`variety` combinations. If a variety is not harvested on one of the harvest dates in the dataset, it is filled with a value of 0.


```r
garden_harvest %>% 
  filter(vegetable == "tomatoes") %>% 
  group_by(date, variety) %>% 
  summarize(daily_harvest_lb = sum(weight)*0.00220462) %>% 
  ungroup() %>% 
  complete(variety, date, fill = list(daily_harvest_lb = 0)) %>% 
  group_by(variety) %>% 
  mutate(cumulative_harvest = cumsum(daily_harvest_lb)) %>% 
  ggplot(aes(x = date, y = cumulative_harvest, color = variety)) + 
  geom_line() +
  geom_text(aes(label = variety)) + 
  labs(title = "Cumulative Harvest (lbs) of Different Tomato Varieties Throughout the Season",
       subtitle = "Date: {frame_along}", x = "", y = "") + 
  theme(legend.position = "none") + 
  transition_reveal(date)
```


## Maps, animation, and movement!

  4. Map my `mallorca_bike_day7` bike ride using animation! 
  Requirements:
  * Plot on a map using `ggmap`.  
  * Show "current" location with a red point. 
  * Show path up until the current point.  
  * Color the path according to elevation.  
  * Show the time in the subtitle.  
  * CHALLENGE: use the `ggimage` package and `geom_image` to add a bike image instead of a red point. You can use [this](https://raw.githubusercontent.com/llendway/animation_and_interactivity/master/bike.png) image. See [here](https://goodekat.github.io/presentations/2019-isugg-gganimate-spooky/slides.html#35) for an example. 
  * Add something of your own! And comment on if you prefer this to the static map and why or why not.
  

```r
mallorca_map <- get_stamenmap(
    bbox = c(left = 2.1903, bottom =39.4512 , right = 2.9388, top = 39.8092), 
    maptype = "terrain",
    zoom = 11)

ggmap(mallorca_map) + 
  geom_point(data = mallorca_bike_day7,
             aes(x = lon,
                 y = lat),
             color = "red",
             size = 3) +
  geom_path(data = mallorca_bike_day7,
            aes(x = lon, y = lat, color = ele),
            size = 1) + 
  geom_text(data = mallorca_bike_day7, 
            aes(label = speed)) +
  scale_color_viridis_c(option = "magma") + 
  theme_map() + 
  labs(title = "Lisa's Bike Trip Through Mallorca", subtitle = "Time: {frame_along}",
       x = "",
       y = "") +
  transition_reveal(time)
```
  
I much prefer this map over its static counterpart. If you were only to look at the static map (and not the data set), then you wouldn't have a clear understanding of where Lisa started and finished. This is much more obious on the animated version.  
  
  5. In this exercise, you get to meet my sister, Heather! She is a proud Mac grad, currently works as a Data Scientist at 3M where she uses R everyday, and for a few years (while still holding a full-time job) she was a pro triathlete. You are going to map one of her races. The data from each discipline of the Ironman 70.3 Pan Am championships, Panama is in a separate file - `panama_swim`, `panama_bike`, and `panama_run`. Create a similar map to the one you created with my cycling data. You will need to make some small changes: 1. combine the files (HINT: `bind_rows()`, 2. make the leading dot a different color depending on the event (for an extra challenge, make it a different image using `geom_image()!), 3. CHALLENGE (optional): color by speed, which you will need to compute on your own from the data. You can read Heather's race report [here](https://heatherlendway.com/2016/02/10/ironman-70-3-pan-american-championships-panama-race-report/). She is also in the Macalester Athletics [Hall of Fame](https://athletics.macalester.edu/honors/hall-of-fame/heather-lendway/184) and still has records at the pool. 
  

```r
total_race <- panama_swim %>% 
  bind_rows(list(panama_bike, panama_run)) 

map_panama <- get_stamenmap(
  bbox = c(left = -79.57, bottom = 8.899,
           right = -79.46, top = 9.002),
  maptype = "terrain",
  zoom = 13)

ggmap(map_panama) + 
  geom_point(data = total_race,
             aes(x = lon,
                 y = lat,
             color = event),
             size = 3) + 
  geom_path(data = total_race,
            aes(x = lon,
                y = lat),
            color = "red",
            size = .6) + 
  labs(title = "Ironman 70.3 Pan Am Championships", 
       subtitle = "Time: {frame_along}") + 
  theme_map() + 
  scale_color_viridis_d() + 
  theme(legend.background = element_blank()) + 
  transition_reveal(time)
```
  
## COVID-19 data

  6. In this exercise, you are going to replicate many of the features in [this](https://aatishb.com/covidtrends/?region=US) visualization by Aitish Bhatia but include all US states. Requirements:
 * Create a new variable that computes the number of new cases in the past week (HINT: use the `lag()` function you've used in a previous set of exercises). Replace missing values with 0's using `replace_na()`.  
  * Filter the data to omit rows where the cumulative case counts are less than 20.  
  * Create a static plot with cumulative cases on the x-axis and new cases in the past 7 days on the y-axis. Connect the points for each state over time. HINTS: use `geom_path()` and add a `group` aesthetic.  Put the x and y axis on the log scale and make the tick labels look nice - `scales::comma` is one option. This plot will look pretty ugly as is.
  * Animate the plot to reveal the pattern by date. Display the date as the subtitle. Add a leading point to each state's line (`geom_point()`) and add the state name as a label (`geom_text()` - you should look at the `check_overlap` argument).  
  * Use the `animate()` function to have 200 frames in your animation and make it 30 seconds long. 
  * Comment on what you observe.
  

```r
Covid_by_state <- covid19 %>% 
  group_by(state) %>% 
  mutate(seven_day_lag = lag(cases, n = 7, order_by = date)) %>% 
  replace_na(list(seven_day_lag = 0)) %>% 
  mutate(new_cases_recent_week = cases - seven_day_lag) %>% 
  filter(cases >= 20) %>% 
  ggplot(aes(x = cases, 
             y = new_cases_recent_week,
             group = state)) +
  geom_point(color = "red") +
  geom_path(color = "lightblue") + 
  geom_text(aes(label = state),
            check_overlap = TRUE) +
  scale_x_log10(labels = scales::comma) + 
  scale_y_log10(labels = scales::comma) + 
  theme(legend.position = "none") + 
  labs(title = "Covid Outlook by State", subtitle = "date {frame_along}",
       y = "Cases in the Past 7 Days",
       x = "Total Case Count") +
  transition_reveal(date) -> covid_gif

animate(covid_gif,
        nframes = 200,
        duration = 30)

anim_save("covidcasesbystate.gif")
```
  
Florida, Texas, and Florida all remain near the top for the entirety of the animation (Although this may simply be because of their large populations.) It also seems that the spread of covid stopped being exponential in most states (meaning the growth rate gradually grew more constant) between July and August of 2020.  
  
  7. In this exercise you will animate a map of the US, showing how cumulative COVID-19 cases per 10,000 residents has changed over time. This is similar to exercises 11 & 12 from the previous exercises, with the added animation! So, in the end, you should have something like the static map you made there, but animated over all the days. The code below gives the population estimates for each state and loads the `states_map` data. Here is a list of details you should include in the plot:
  
  * Put date in the subtitle.   
  * Because there are so many dates, you are going to only do the animation for all Fridays. So, use `wday()` to create a day of week variable and filter to all the Fridays.   
  * Use the `animate()` function to make the animation 200 frames instead of the default 100 and to pause for 10 frames on the end frame.   
  * Use `group = date` in `aes()`.   
  * Comment on what you see.  



```r
census_pop_est_2018 <- read_csv("https://www.dropbox.com/s/6txwv3b4ng7pepe/us_census_2018_state_pop_est.csv?dl=1") %>% 
  separate(state, into = c("dot","state"), extra = "merge") %>% 
  select(-dot) %>% 
  mutate(state = str_to_lower(state))

states_map <- map_data("state")

Covid19_w_population <- covid19 %>% 
  mutate(state = str_to_lower(state)) %>% 
  left_join(census_pop_est_2018,
            by = "state") %>% 
  group_by(state, est_pop_2018, date) %>% 
  summarize(total_cases = max(cases)) %>% 
  mutate(cases_per_10000 = (total_cases/est_pop_2018)*10000) 

covid19_states_map <- Covid19_w_population %>% 
  mutate(weekday = wday(date, label = TRUE)) %>%
  filter(weekday == "Fri") %>% 
  ggplot() + 
  geom_map(map = states_map,
           aes(map_id = state, fill = cases_per_10000,
               group = date)) + 
  expand_limits(y = states_map$lat,
                x = states_map$long) + 
  theme_map() + 
  scale_fill_viridis_c(option = "magma") + 
  theme(legend.background = element_blank()) + 
  labs(title = "Covid Cases Per 10,000 People by State", subtitle = "Date:{next_state}") +
  transition_states(date) -> covid_19.gif

animate(covid_19.gif,
        nframes = 200, 
        duration = 10)
  
anim_save("covid_cases_by_state_map.gif")
```

Both coastlines seem to have smaller total case counts per capita then the central United States. It also becomes clear that although it wasn't well represented in the previous graph, states with lower populations were hit just as hard. 

## Your first `shiny` app (for next week!)

NOT DUE THIS WEEK! If any of you want to work ahead, this will be on next week's exercises.

  8. This app will also use the COVID data. Make sure you load that data and all the libraries you need in the `app.R` file you create. Below, you will post a link to the app that you publish on shinyapps.io. You will create an app to compare states' cumulative number of COVID cases over time. The x-axis will be number of days since 20+ cases and the y-axis will be cumulative cases on the log scale (`scale_y_log10()`). We use number of days since 20+ cases on the x-axis so we can make better comparisons of the curve trajectories. You will have an input box where the user can choose which states to compare (`selectInput()`) and have a submit button to click once the user has chosen all states they're interested in comparing. The graph should display a different line for each state, with labels either on the graph or in a legend. Color can be used if needed. 
  
## GitHub link

  9. Below, provide a link to your GitHub page with this set of Weekly Exercises. Specifically, if the name of the file is 05_exercises.Rmd, provide a link to the 05_exercises.md file, which is the one that will be most readable on GitHub. If that file isn't very readable, then provide a link to your main GitHub page.

[Github link](https://github.com/cwillia8/Weekly-Exercise-5)


**DID YOU REMEMBER TO UNCOMMENT THE OPTIONS AT THE TOP?**
